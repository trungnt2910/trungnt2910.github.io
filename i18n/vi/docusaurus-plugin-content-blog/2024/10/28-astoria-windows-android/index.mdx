---
slug: astoria-windows-android
title: Kh√¥i ph·ª•c Astoria - Tr√¨nh gi·∫£ l·∫≠p Android th·∫•t truy·ªÅn
authors: trungnt2910
tags: [Windows, Astoria, Windows 10 Mobile, Android, lxss, ApkToAppx, ApkToExe, UWP, Arcadia]
---

<head>
    <meta property="og:image" content={require('./lost_android.png').default} />
    <meta name="twitter:image" content={require('./lost_android.png').default} />
</head>

B·∫°n l√† m·ªôt "fan cu·ªìng" c·ªßa Windows 10 Mobile? B·∫°n nh·ªõ ƒë·∫øn m·ªôt th·ªùi Microsoft th·ª≠ nghi·ªám "Project
Astoria", m·ªôt gi·∫£i ph√°p ƒë∆∞a ·ª©ng d·ª•ng Android cho c√°c thi·∫øt b·ªã Windows Phone? Hay b·∫°n ƒë∆°n gi·∫£n ch·ªâ
qu√° ch√°n n·∫£n v·ªõi nh·ªØng tr√¨nh gi·∫£ l·∫≠p Android c·ªßa T√†u, ch·∫°y ch·ªâ c√≥ "lag" m√°y?

B√†i vi·∫øt n√†y d√†nh cho b·∫°n. H√£y c√πng m√¨nh kh√°m ph√° c√°ch ƒë∆∞a Astoria ƒë·∫øn nh·ªØng phi√™n b·∫£n Windows kh√°c,
t·ª´ nh·ªØng lo·∫°i thi·∫øt b·ªã kh√°c nh∆∞ Desktop, cho ƒë·∫øn nh·ªØng phi√™n b·∫£n m·ªõi h∆°n nh∆∞ b·∫£n c·∫≠p nh·∫≠t
_Anniversary Update_ (RS1) v√† sau n·ªØa.

<figure>
    <img src={require('./lost_android.png').default}
         alt="Android sau m·ªôt c·ª≠a s·ªï th·∫•t l·∫°c"
         style={{height: "32vmin", width: "100%", objectFit: "cover" }}/>
    <figcaption style={{fontStyle: "italic", textAlign: "center"}}>
        Sinh ra b·ªüi Microsoft Copilot.
    </figcaption>
</figure>

<!-- truncate -->

## Gi·ªõi thi·ªáu

_Project Astoria_, hay c√≤n ƒë∆∞·ª£c g·ªçi l√† _Windows Bridge for Android_, l√† m·ªôt th√≠ nghi·ªám cho ph√©p ch·∫°y
·ª©ng d·ª•ng Android tr√™n nh·ªØng b·∫£n d√πng th·ª≠ ƒë·∫ßu ti√™n c·ªßa Windows 10 Mobile. T√≠nh nƒÉng n√†y ch·ªâ c√≥ tr√™n
Windows cho ƒëi·ªán tho·∫°i v√† b·ªã h·ªßy tr∆∞·ªõc khi Windows 1511 ("Thresold 2") ra m·∫Øt.

Gi·∫£i ph√°p n√†y bao g·ªìm m·ªôt ch∆∞∆°ng tr√¨nh Android 4.4 ch·∫°y tr√™n m·ªôt l·ªõp t∆∞∆°ng th√≠ch (`lxcore.sys`) c√≥
vai tr√≤ d·ªãch c√°c _syscall_ - l·ªùi g·ªçi h√†m h·ªá th·ªëng - Linux do Android ƒë∆∞a ra th√†nh c√°c l·ªùi g·ªçi t∆∞∆°ng
ƒë∆∞∆°ng cho Windows NT. C√πng v·ªõi m·ªôt s·ªë ch∆∞∆°ng tr√¨nh h·ªá th·ªëng kh√°c, Astoria gi√∫p nhi·ªÅu ·ª©ng d·ª•ng
Android ch·∫°y song song v·ªõi ph·∫ßn m·ªÅm cho Windows v√† t√≠ch h·ª£p m∆∞·ª£t m√† v√†o m√¥i tr∆∞·ªùng, kh√¥ng c·∫ßn ph·∫£i
ch·∫°y m·ªôt m√°y ·∫£o n·∫∑ng nh∆∞ c√°c gi·∫£i ph√°p hi·ªán h√†nh.

Tuy ch·ªâ ƒë∆∞·ª£c ph√°t h√†nh cho ƒëi·ªán tho·∫°i, v·ªÅ l√Ω thuy·∫øt, Astoria ƒë∆∞·ª£c thi·∫øt k·∫ø ƒë·ªÉ h·ªó tr·ª£ c·∫£ nh·ªØng phi√™n
b·∫£n Windows 10 kh√°c. Sau m·ªôt th·ªùi gian b·ªã b·ªè x√≥, d·ª± √°n n√†y ƒë∆∞·ª£c d√πng l·∫°i ƒë·ªÉ x√¢y n√™n _Windows
Subsystem for Linux_, thi·∫øt k·∫ø cho c√°c ch∆∞∆°ng tr√¨nh Linux, r·ªìi l·∫°i b·ªã l√£ng qu√™n v√†o nƒÉm 2020, khi
WSL b·∫Øt ƒë·∫ßu s·ª≠ d·ª•ng gi·∫£i ph√°p ·∫£o h√≥a "tr√¢u b√≤" d·ª±a tr√™n Hyper-V.

## ƒêi·ªÅu ki·ªán

- K·ªπ nƒÉng thi·∫øt ƒë·∫∑t v√† ch·ªânh s·ª≠a Windows (VD: Ch·ªânh s·ª≠a Registry, thay th·∫ø t·ªáp h·ªá th·ªëng).
- S·ª≠ d·ª•ng Project Astoria ƒë·ªÉ c√†i ƒë·∫∑t APK tr√™n c√°c phi√™n b·∫£n Windows 10 Mobile ƒë∆∞·ª£c h·ªó tr·ª£. B·∫°n c√≥
th·ªÉ tham kh·∫£o b√†i h∆∞·ªõng d·∫´n
[n√†y](https://www.wpxbox.com/this-tool-lets-you-run-android-apks-on-windows-10-mobile).

## Chu·∫©n b·ªã

L√† m·ªôt ch∆∞∆°ng tr√¨nh ph·ª©c t·∫°p, Astoria ch·ª©a nhi·ªÅu t·ªáp v√† c·∫ßn h·ªá th·ªëng c√≥ nh·ªØng t√≠nh nƒÉng v√† thi·∫øt ƒë·∫∑t
nh·∫•t ƒë·ªãnh.

<figure>
    ![T·ªïng quan v·ªÅ Project Astoria](./aow_components.svg)
    <figcaption style={{fontStyle: "italic", textAlign: "center"}}>
        T·ªïng quan v·ªÅ Project Astoria
    </figcaption>
</figure>

### Phi√™n b·∫£n Windows 10

B√†i h∆∞·ªõng d·∫´n n√†y ƒë∆∞·ª£c th·ª≠ nghi·ªám tr√™n Windows 10 x86 build 10563.

C≈©ng c√≥ th·ªÉ th·ª±c hi·ªán ƒëi·ªÅu n√†y tr√™n nh·ªØng phi√™n b·∫£n Windows 10 **32-bit** c√≥ m√£ build l√™n ƒë·∫øn 10572.

M·ªôt s·ªë t√≠nh nƒÉng c≈©ng c√≥ th·ªÉ ho·∫°t ƒë·ªông tr√™n nh·ªØng phi√™n b·∫£n th·ª≠ nghi·ªám **32-bit** Redstone 1 ƒë·∫ßu
ti√™n (m√£ build t·ª´ 14251 - 14346).

Ng∆∞·ªùi d√πng c·∫ßn c√≥ quy·ªÅn truy c·∫≠p to√†n b·ªô t·ªáp h·ªá th·ªëng v√† Registry. ƒêi·ªÅu n√†y th∆∞·ªùng ƒë√∫ng v·ªõi c√°c qu·∫£n
tr·ªã vi√™n tr√™n Windows m√°y t√≠nh th√¥ng th∆∞·ªùng. Tuy nhi√™n, Windows 10 Mobile c√≥ l·∫Ω s·∫Ω c·∫ßn th√™m m·ªôt ch√∫t
thi·∫øt ƒë·∫∑t tr∆∞·ªõc.

<details>
    <summary>T·∫°i sao?</summary>

    Nh∆∞ c√≥ th·ªÉ th·∫•y tr√™n bi·ªÉu ƒë·ªì tr√™n, tr√¨nh ƒëi·ªÅu khi·ªÉn (_driver_) c·ªët l√µi c·ªßa Astoria c·∫ßn nh√¢n h·ªá
    ƒëi·ªÅu h√†nh cung c·∫•p m·ªôt h√†m `PsRegisterPicoProvider`.

    Nghi√™n c·ª©u cho th·∫•y, c√°c phi√™n b·∫£n Windows TH2 t·ª´ 10575 ch·∫∑n ho√†n to√†n h√†m n√†y v√† lu√¥n tr·∫£ v·ªÅ
    l·ªói trong m·ªçi t√¨nh hu·ªëng. H√†m n√†y ƒë∆∞·ª£c m·ªü l·∫°i trong qu√° tr√¨nh th·ª≠ nghi·ªám RS1 ƒë·ªÉ m·ªü ƒë∆∞·ªùng cho
    WSL. Tuy nhi√™n, ƒë·∫øn build 14347, h√†m n√†y b·ªã thay ƒë·ªïi, kh√¥ng c√≤n t∆∞∆°ng th√≠ch v·ªõi c√°c tr√¨nh ƒëi·ªÅu
    khi·ªÉn c·ªßa Astoria.

    Do Windows 10 Mobile ch·ªâ c√≥ phi√™n b·∫£n 32-bit (`arm32` cho ƒëi·ªán tho·∫°i v√† `x86 cho tr√¨nh gi·∫£ l·∫≠p),
    v√† v√¨ Astoria ch·ªâ ƒë∆∞·ª£c ph√°t h√†nh cho Windows 10 Mobile, n√™n t√≠nh nƒÉng n√†y ch·ªâ ho·∫°t ƒë·ªông tr√™n c√°c
    phi√™n b·∫£n Windows 32-bit.

    Nh·ªØng b·∫£n RS1 ƒë·∫ßu ti√™n bao g·ªìm c√°c h√†m c·∫ßn thi·∫øt trong nh√¢n h·ªá ƒëi·ªÅu h√†nh, song m·ªôt s·ªë d·ªãch v·ª• h·ªá
    th·ªëng x·ª≠ l√Ω AppX v√† ·ª©ng d·ª•ng UWP ƒë√£ thay d·ªïi ƒë√°ng k·ªÉ. ƒêi·ªÅu n√†y c·∫£n tr·ªü vi·ªác c√†i ƒë·∫∑t nh·ªØng t·ªáp
    AppX sinh ra b·ªüi Astoria. Tr√™n ƒëi·ªán tho·∫°i, build cu·ªëi c√πng ch·∫°y ƒë∆∞·ª£c ƒë·∫ßy ƒë·ªß t√≠nh nƒÉng c·ªßa
    Astoria l√† [14320](https://empyreal96.github.io/ProjectAstoria/installation.html); c√≤n tr√™n m√°y
    t√≠nh, kh√¥ng c√≥ phi√™n b·∫£n RS1 n√†o h·ªó tr·ª£ c√†i ƒë·∫∑t ·ª©ng d·ª•ng Astoria, d√π ƒë√£ kh·ªüi ƒë·ªông th√†nh c√¥ng m√¥i
    tr∆∞·ªùng Android ·∫£o.
</details>

<details>
    <summary>ƒê√≥ng bƒÉng Bom Th·ªùi gian</summary>

    Nh·ªØng phi√™n b·∫£n ƒë∆∞·ª£c nh·∫Øc ƒë·∫øn ƒë·ªÅu l√† c√°c build thu·ªôc ch∆∞∆°ng tr√¨nh _Windows Insider_. Ch√∫ng ƒë·ªÅu
    ƒë√£ h·∫øt h·∫°n t·ª´ r·∫•t l√¢u.

    Tr∆∞·ªõc khi c√†i ƒë·∫∑t hay kh·ªüi ƒë·ªông m√°y, h√£y ƒë·∫£m b·∫£o r·∫±ng ƒë·ªìng h·ªì ƒë∆∞·ª£c c·ªë ƒë·ªãnh t·∫°i th·ªùi ƒëi·ªÉm n√†o ƒë√≥
    trong 2015, v√† m·ªçi t√≠nh nƒÉng c·∫≠p nh·∫≠t ƒë·ªìng h·ªì ƒë√£ ƒë∆∞·ª£c t·∫Øt. N·∫øu kh√¥ng, qu√° tr√¨nh c√†i ƒë·∫∑t s·∫Ω th·∫•t
    b·∫°i ho·∫∑c/v√† Windows s·∫Ω t·ª´ ch·ªëi kh·ªüi ƒë·ªông (n√™n c·ªông ƒë·ªìng m·∫°ng m·ªõi g·ªçi ƒë√¢y l√† _Time Bomb_).

    N·∫øu b·∫°n d√πng VMWare, th√™m nh·ªØng d√≤ng sau v√†o t·ªáp `.vmx` s·∫Ω c√≥ √≠ch:

    ```
    rtc.startTime = "1450962000"
    tools.syncTime = "FALSE"
    time.synchronize.continue = "FALSE"
    time.synchronize.restore = "FALSE"
    time.synchronize.resume.disk = "FALSE"
    time.synchronize.shrink = "FALSE"
    time.synchronize.tools.startup = "FALSE"
    time.synchronize.tools.enable = "FALSE"
    time.synchronize.resume.host = "FALSE"
    ```
</details>

### T·ªáp

Nh·ªØng t·ªáp sau c·∫ßn ƒë∆∞·ª£c thu th·∫≠p t·ª´ m·ªôt b·∫£n Windows 10 Mobile v·ªõi m√£ build g·∫ßn nh·∫•t.
Nh·ªØng t·ªáp cho c√°c build TH2 cu·ªëi (105xx) s·∫Ω ho·∫°t ƒë·ªông cho nh·ªØng build RS1 kh·∫£ d·ª•ng (14xxx).

B√†i vi·∫øt bao g·ªìm nh·ªØng t·ªáp v√† gi√° tr·ªã Registry l·∫•y t·ª´ tr√¨nh gi·∫£ l·∫≠p Windows 10 Mobile Build 10563.
Kh√≥a Registry v√† c√¥ng c·ª• c√≥ th·ªÉ d√πng chung cho c√°c ki·∫øn tr√∫c ph·∫ßn c·ª©ng kh√°c nhau, nh∆∞ng c√°c tr√¨nh
ƒëi·ªÅu khi·ªÉn, t·ªáp AoW, v√† t·ªáp `.cat` ph·∫£i kh·ªõp v·ªõi ki·∫øn tr√∫c c·ªßa m√°y b·∫°n ƒë·ªãnh c√†i Astoria l√™n
(th∆∞·ªùng l√† `x86` cho m√°y t√≠nh v√† `ARM32` cho ƒëi·ªán tho·∫°i).

B·∫°n c√≥ th·ªÉ t·∫£i to√†n b·ªô t·ªáp s·ª≠ d·ª•ng trong b√†i vi·∫øt n√†y trong
[t·ªáp zip b·ª± n√†y](https://github.com/trungnt2910/trungnt2910.github.io/releases/download/v0.0.0/Astoria.zip).

#### Tr√¨nh ƒêi·ªÅu khi·ªÉn L√µi (`C:\Windows\System32\drivers`)

Ch√∫ng ta c·∫ßn hai t·ªáp: [`adss.sys`](./files/adss.sys) v√† [`lxcore.sys`](./files/lxcore.sys).

<details>
    <summary>Ch√∫ng l√† g√¨ v·∫≠y?</summary>

    ƒê√¢y l√† nh·ªØng driver c·ªët l√µi, ph·ª• tr√°ch d·ªãch c√°c h√†m Linux sang nh·ªØng h√†m t∆∞∆°ng ƒë∆∞∆°ng cho
    Windows NT. Ch√∫ng l√† th√†nh ph·∫ßn b·∫≠c th·∫•p nh·∫•t c·ªßa Astoria.
</details>

#### T·ªáp AoW (`C:\Windows\System32\aow`)

Ch√∫ng ta c·∫ßn to√†n b·ªô th∆∞ m·ª•c
[`aow`](https://github.com/trungnt2910/trungnt2910.github.io/releases/download/v0.0.0/aow.zip).

<details>
    <summary>Ch√∫ng l√† g√¨ v·∫≠y?</summary>

    T√™n th∆∞ m·ª•c, `aow` - Android on Windows - c√≥ l·∫Ω ƒë√£ gi·∫£i th√≠ch ƒë·ªß.

    Th∆∞ m·ª•c n√†y bao g·ªìm m·ªôt ƒëƒ©a ch·ª©a Android (`aow.wim`), nh·ªØng tr√¨nh d·ªãch v·ª• d√πng ƒë·ªÉ kh·ªüi ƒë·ªông v√†
    k·∫øt n·ªëi v·ªõi m√¥i tr∆∞·ªùng Android ·∫£o, v√† m·ªôt s·ªë th∆∞ vi·ªán h·ªó tr·ª£ kh√°c c·ªßa Astoria.
</details>

#### Kh√≥a Registry

Ch√∫ng ta c·∫ßn n·∫°p m·ªôt v√†i kh√≥a Registry.

Nh·ªØng kh√≥a n√†y v·ªÅ l√Ω thuy·∫øt s·∫Ω gi·ªëng nhau cho c·∫£ phi√™n b·∫£n ARM32 l·∫´n x86.

##### Tr√¨nh ƒëi·ªÅu khi·ªÉn

Ch·∫°y [`adss.reg`](./keys/adss.reg) ƒë·ªÉ ƒëƒÉng k√Ω tr√¨nh ƒëi·ªÅu khi·ªÉn l√µi c·ªßa Astoria.

<details>
    <summary>Kh√≥a li√™n quan</summary>

    ```
    [HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\adss]
    [HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\ManufacturingMode\Default\Services\adss]
    ```

    Kh√≥a ƒë·∫ßu c·∫ßn thi·∫øt cho vi·ªác ƒëƒÉng k√Ω v·ªõi m·ªçi tr√¨nh ƒëi·ªÅu khi·ªÉn Windows.<br/>
    Kh√≥a th·ª© hai c√≥ v·∫ª kh√¥ng quan tr·ªçng nh∆∞ng t·ªìn t·∫°i trong c√°c build W10M c√≥ ƒëi k√®m Astoria.
</details>

##### D·ªãch v·ª•

Ch·∫°y [`AoWSM.reg`](./keys/AoWSM.reg) ƒë·ªÉ ƒëƒÉng k√Ω d·ªãch v·ª• qu·∫£n l√Ω AoW - _AoW Session Manager_. Ngo√†i
nh·ªØng tr√¨nh ƒëi·ªÅu khi·ªÉn c·ªët l√µi ch·∫°y trong nh√¢n, ƒë√¢y l√† th√†nh ph·∫ßn ch·ªß y·∫øu c·ªßa Astoria.

<details>
    <summary>Kh√≥a li√™n quan</summary>

    ```
    [HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\AoWSM]
    [HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\AoWSM\parameters]
    [HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\AoWSM\Security]
    ```
</details>

Ti·∫øp theo, ch·∫°y [`AoWSM.cmd`](./keys/AoWSM.cmd) b·∫±ng qu·∫£n tr·ªã vi√™n ƒë·ªÉ g·∫Øn d·ªãch v·ª• v√†o ƒë√∫ng t√†i kho·∫£n
d·ªãch v·ª•.

<details>
    <summary>Kh√≥a li√™n quan</summary>

    ```
    [HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\Svchost]
    ```
</details>

<details>
    <summary>T·∫°i sao ph·∫£i ch·∫°y c·∫£ script?</summary>

    Qu√° tr√¨nh c√†i ƒë·∫∑t bao g·ªìm c·∫≠p nh·∫≠t m·ªôt gi√° tr·ªã lo·∫°i `REG_MULTI_SZ` b·∫±ng c√°ch vi·∫øt th√™m t√™n d·ªãch
    v·ª• (`AoWSM`) v√†o cu·ªëi m·ªôt danh s√°ch. Danh s√°ch n√†y c√≥ th·ªÉ kh√°c cho m·ªói phi√™n b·∫£n Windows.

    T·ªáp `.reg` ch·ªâ h·ªó tr·ª£ thay th·∫ø to√†n b·ªô gi√° tr·ªã, kh√¥ng c√≥ t√≠nh nƒÉng th√™m m·ªôt d√≤ng v√†o gi√° tr·ªã
    `REG_MULTI_SZ`. V√¨ v·∫≠y, ch√∫ng ta d√πng nh·ªØng d√≤ng l·ªánh ƒë·ªÉ ƒë·ªçc to√†n b·ªô danh s√°ch, th√™m v√†o d√≤ng
    ta c·∫ßn, r·ªìi l∆∞u l·∫°i gi√° tr·ªã m·ªõi.

    ```cmd
    SET ContentsToBeAppended=\0AoWSM
    FOR /F "tokens=2,3*" %%G IN ('REG QUERY "HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\Svchost" /v netsvcs') DO SET EntryContents=%%H
    SET NewEntryContents=%EntryContents%%ContentsToBeAppended%

    REG ADD "HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\Svchost" /v netsvcs /t REG_MULTI_SZ /d "%NewEntryContents%" /f
    ```
</details>

##### Gi·∫•y ch·ª©ng nh·∫≠n (_Certificates_)

Ch·∫°y [`MicrosoftTestRootAuthority.reg`](./keys/MicrosoftTestRootAuthority.reg) ƒë·ªÉ ƒëƒÉng k√Ω
`Microsoft Test Root Authority`. ƒê√¢y l√† t√™n t·ªï ch·ª©c ph√°t h√†nh gi·∫•y ch·ª©ng nh·∫≠n cho c√°c t·ªáp n·∫±m trong
Astoria hay c√°c phi√™n b·∫£n Win10M th·ª≠ nghi·ªám.

<details>
    <summary>Kh√≥a li√™n quan</summary>

    ```
    [HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\SystemCertificates\ROOT\Certificates\2BD63D28D7BCD0E251195AEB519243C13142EBC3]
    ```
</details>

##### Ch√≠nh s√°ch (_Policies_)

Ch·∫°y
[`AllowWindowsBridgeForAndroidAppExecution.reg`](./keys/AllowWindowsBridgeForAndroidAppExecution.reg)
ƒë·ªÉ b·∫≠t m·ªôt policy ·∫©n trong Windows v√† cho ph√©p ·ª©ng d·ª•ng c·ªßa AoW ch·∫°y. Thi·∫øu policy n√†y, c√°c d·ªãch v·ª•
c·ªßa Astoria s·∫Ω t·ª´ ch·ªëi kh·ªüi ƒë·ªông.

<details>
    <summary>Kh√≥a li√™n quan</summary>

    ```
    [HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\PolicyManager\default\ApplicationManagement\AllowWindowsBridgeForAndroidAppExecution]
    ```
</details>

##### Thi·∫øt ƒë·∫∑t AoW

Ch·∫°y [`AoWCOM.reg`](./keys/AoWCOM.reg) ƒë·ªÉ ƒëƒÉng k√Ω nh·ªØng giao di·ªán COM (_COM interfaces_) thi·∫øt y·∫øu
cho Astoria.

<details>
    <summary>Kh√≥a li√™n quan</summary>

    ```
    [HKEY_LOCAL_MACHINE\SOFTWARE\Classes\AppId\{86a8127c-3121-4879-bef7-08df0ed05a76}]
    [HKEY_LOCAL_MACHINE\SOFTWARE\Classes\AppId\{a4557610-bef7-40d6-844d-83dc4e1ea6f2}]
    [HKEY_LOCAL_MACHINE\SOFTWARE\Classes\CLSID\{4abf46cc-e506-434c-afa4-9927f3668e60}]
    [HKEY_LOCAL_MACHINE\SOFTWARE\Classes\CLSID\{4abf46cc-e506-434c-afa4-9927f3668e60}\InProcServer32]
    [HKEY_LOCAL_MACHINE\SOFTWARE\Classes\CLSID\{7930ac88-f36c-44fd-8202-8b95b5b06acb}]
    [HKEY_LOCAL_MACHINE\SOFTWARE\Classes\CLSID\{7930ac88-f36c-44fd-8202-8b95b5b06acb}\InProcServer32]
    [HKEY_LOCAL_MACHINE\SOFTWARE\Classes\CLSID\{86a8127c-3121-4879-bef7-08df0ed05a76}]
    [HKEY_LOCAL_MACHINE\SOFTWARE\Classes\CLSID\{86a8127c-3121-4879-bef7-08df0ed05a76}\LocalServer32]
    [HKEY_LOCAL_MACHINE\SOFTWARE\Classes\CLSID\{910065f3-db2c-41c8-a50a-aa258afac2e8}]
    [HKEY_LOCAL_MACHINE\SOFTWARE\Classes\CLSID\{da3739a3-46a5-4e9b-b2b5-9545eeea93e6}]
    [HKEY_LOCAL_MACHINE\SOFTWARE\Classes\CLSID\{da3739a3-46a5-4e9b-b2b5-9545eeea93e6}\InProcServer32]
    [HKEY_LOCAL_MACHINE\SOFTWARE\Classes\CLSID\{e213b5d9-4ee5-4e2d-945e-6508c1d050fb}]
    [HKEY_LOCAL_MACHINE\SOFTWARE\Classes\CLSID\{e213b5d9-4ee5-4e2d-945e-6508c1d050fb}\InProcServer32]
    [HKEY_LOCAL_MACHINE\SOFTWARE\Classes\Interface\{292997c8-fa0d-4fb6-8bc5-366f9382cc81}]
    [HKEY_LOCAL_MACHINE\SOFTWARE\Classes\Interface\{292997c8-fa0d-4fb6-8bc5-366f9382cc81}\ProxyStubClsid32]
    [HKEY_LOCAL_MACHINE\SOFTWARE\Classes\Interface\{355C3D14-8434-4F35-8377-FDD880F5758A}]
    [HKEY_LOCAL_MACHINE\SOFTWARE\Classes\Interface\{355C3D14-8434-4F35-8377-FDD880F5758A}\ProxyStubClsid32]
    [HKEY_LOCAL_MACHINE\SOFTWARE\Classes\Interface\{38530252-eb81-4164-8854-89e763e44514}]
    [HKEY_LOCAL_MACHINE\SOFTWARE\Classes\Interface\{38530252-eb81-4164-8854-89e763e44514}\ProxyStubClsid32]
    [HKEY_LOCAL_MACHINE\SOFTWARE\Classes\Interface\{623bbb59-1aa9-46b2-a2e6-e4a749305fcd}]
    [HKEY_LOCAL_MACHINE\SOFTWARE\Classes\Interface\{623bbb59-1aa9-46b2-a2e6-e4a749305fcd}\ProxyStubClsid32]
    [HKEY_LOCAL_MACHINE\SOFTWARE\Classes\Interface\{75888062-7a77-46c0-9494-e59f2dd4df0f}]
    [HKEY_LOCAL_MACHINE\SOFTWARE\Classes\Interface\{75888062-7a77-46c0-9494-e59f2dd4df0f}\ProxyStubClsid32]
    [HKEY_LOCAL_MACHINE\SOFTWARE\Classes\Interface\{782b2d14-179c-4540-bfc8-3599213f764e}]
    [HKEY_LOCAL_MACHINE\SOFTWARE\Classes\Interface\{782b2d14-179c-4540-bfc8-3599213f764e}\ProxyStubClsid32]
    [HKEY_LOCAL_MACHINE\SOFTWARE\Classes\Interface\{8ab860cb-32ff-4903-8f2a-5ca76ed80301}]
    [HKEY_LOCAL_MACHINE\SOFTWARE\Classes\Interface\{8ab860cb-32ff-4903-8f2a-5ca76ed80301}\ProxyStubClsid32]
    [HKEY_LOCAL_MACHINE\SOFTWARE\Classes\Interface\{a0c5d6c2-48ce-4429-a73c-5c4df8cc2a54}]
    [HKEY_LOCAL_MACHINE\SOFTWARE\Classes\Interface\{a0c5d6c2-48ce-4429-a73c-5c4df8cc2a54}\ProxyStubClsid32]
    [HKEY_LOCAL_MACHINE\SOFTWARE\Classes\Interface\{a1411706-05ec-4f1a-914a-31f7e8b12a9e}]
    [HKEY_LOCAL_MACHINE\SOFTWARE\Classes\Interface\{a1411706-05ec-4f1a-914a-31f7e8b12a9e}\ProxyStubClsid32]
    [HKEY_LOCAL_MACHINE\SOFTWARE\Classes\Interface\{b65c0692-57f8-472d-b3e4-cd754ccdcc6a}]
    [HKEY_LOCAL_MACHINE\SOFTWARE\Classes\Interface\{b65c0692-57f8-472d-b3e4-cd754ccdcc6a}\ProxyStubClsid32]
    [HKEY_LOCAL_MACHINE\SOFTWARE\Classes\Interface\{c60b7e58-8fe7-4a9c-a86e-42ca6926cc40}]
    [HKEY_LOCAL_MACHINE\SOFTWARE\Classes\Interface\{c60b7e58-8fe7-4a9c-a86e-42ca6926cc40}\ProxyStubClsid32]
    [HKEY_LOCAL_MACHINE\SOFTWARE\Classes\Interface\{e6521960-71d3-4e9f-8ecd-bb87a99313f9}]
    [HKEY_LOCAL_MACHINE\SOFTWARE\Classes\Interface\{e6521960-71d3-4e9f-8ecd-bb87a99313f9}\ProxyStubClsid32]
    [HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\SecurityManager\FullTrust]
    [HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\SecurityManager\FullTrust\AowHost]
    [HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\AOW]
    [HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\AOW\Instance]
    [HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\WindowsRuntime\AllowedCOMCLSIDs\{da3739a3-46a5-4e9b-b2b5-9545eeea93e6}]
    [HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\WindowsRuntime\AllowedCOMCLSIDs\{e213b5d9-4ee5-4e2d-945e-6508c1d050fb}]
    ```
</details>

##### Tinh ch·ªânh Tr√¨nh ch·∫°y

Ch·∫°y [ArcadiaEvents.reg](./keys/ArcadiaEvents.reg) ƒë·ªÉ gi√∫p m·ªôt s·ªë t√≠nh nƒÉng c·ªßa Arcadia (th√†nh ph·∫ßn
k·∫øt n·ªëi Astoria v·ªõi m√¥i tr∆∞·ªùng UWP) ch·∫°y b√¨nh th∆∞·ªùng.

<details>
    <summary>Kh√≥a li√™n quan</summary>

    ```
    [HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\BackgroundModel\EventSettings\719]
    [HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\BackgroundModel\EventSettings\720]
    [HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\BackgroundModel\EventSettings\721]
    [HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\BackgroundModel\EventSettings\722]
    ```
</details>

#### Danh m·ª•c (_Catalogs_)

Hai t·ªáp danh m·ª•c (`.cat`, _Catalog_) sau c·∫ßn ƒë∆∞·ª£c sao ch√©p ƒë·∫øn
`C:\Windows\System32\CatRoot\{F750E6C3-38EE-11D1-85E5-00C04FC295EE}`. ƒê√¢y l√† kho ch·ª©a th√¥ng tin an
ninh c·ªßa h·ªá th·ªëng.

[`Microsoft.MS_PROJECTA.MainOS`](./files/Microsoft.MS_PROJECTA.MainOS~628844477771337a~x86~~8.15.13030.68.cat)

[`Microsoft.MobileCore.Prod.MainOS`](./files/Microsoft.MobileCore.Prod.MainOS~628844477771337a~x86~~8.20.10563.11786.cat)

<details>
    <summary>Ch√∫ng l√† g√¨ v·∫≠y?</summary>

    Tr√™n Windows, danh m·ª•c an ninh (nh·ªØng t·ªáp _Catalog_ v·ªõi ƒëu√¥i `.cat`) cung c·∫•p ch·ªØ k√Ω ƒëi·ªán t·ª≠ cho
    nh·ªØng t·ªáp m√† b·∫£n th√¢n ch∆∞a ƒë∆∞·ª£c k√Ω.

    `Microsoft.MS_PROJECTA.MainOS` ph·ª• tr√°ch nh·ªØng t·ªáp ƒëi k√®m v·ªõi Project Astorai (bao g·ªìm h·∫ßu h·∫øt
    th∆∞ m·ª•c `aow`), v√† `Microsoft.MobileCore.Prod.MainOS` ph·ª• tr√°ch ph·∫ßn c√≤n l·∫°i.

    Thi·∫øu nh·ªØng danh m·ª•c n√†y, Windows kh√¥ng th·ªÉ x√°c nh·∫≠n ch·ªØ k√Ω c·ªßa m·ªôt s·ªë t·ªáp ch∆∞∆°ng tr√¨nh d·ªãch v·ª•,
    g√¢y ra l·ªói `0x80070241` - `Windows cannot verify the digital signature...`.

    ƒê·ªÉ bi·∫øt th√™m th√¥ng tin chi ti·∫øt v·ªÅ danh m·ª•c an ninh tr√™n Windows, b·∫°n c√≥ th·ªÉ xem
    [video n√†y](https://www.youtube.com/watch?v=eo1b33NrGts).
</details>

#### C√¥ng c·ª•

B·∫°n s·∫Ω ph·∫£i ch·∫°y m·ªôt phi√™n b·∫£n [`WConnectAgent`](./files/WConnectAgent.zip) ƒë√£ ƒë∆∞·ª£c ch·ªânh s·ª≠a tr√™n
m√°y t√≠nh ch·∫°y Project Astoria.

M√°y t√≠nh c√≤n l·∫°i c·∫ßn ƒë∆∞·ª£c c√†i ADB. B·∫°n c√≥ th·ªÉ d√πng b·∫£n ch√≠nh th·ª©c ƒëi k√®m v·ªõi b·ªô Android SDK.

<details>
    <summary>Vai tr√≤ c·ªßa c√¥ng c·ª• n√†y?</summary>

    Th√¥ng th∆∞·ªùng, quy tr√¨nh ƒë·ªÉ c√†i APK l√™n Windows 10 Mobile s·∫Ω d√πng ƒë·∫øn `wconnect.exe` ƒë·ªÉ k·∫øt n·ªëi
    v·ªõi ƒëi·ªán tho·∫°i qua t√≠nh nƒÉng _Device Discovery_. C√¥ng c·ª• n√†y s·∫Ω giao ti·∫øp v·ªõi b·ªô ph·∫≠n t∆∞∆°ng ·ª©ng
    tr√™n ƒëi·ªán tho·∫°i ph·ª• tr√°ch vi·ªác gi·∫£ l·∫≠p giao th·ª©c ADB v√† cho ph√©p tri·ªÉn khai g√≥i APK.

    Do nh·ªØng phi√™n b·∫£n c≈© c·ªßa Windows 10 tr√™n Desktop kh√¥ng h·ªó tr·ª£ _Device Discovery_,
    `wconnect.exe` kh√¥ng th·ªÉ k·∫øt n·ªëi v·ªõi nh·ªØng thi·∫øt b·ªã n√†y. Thay v√†o ƒë√≥, b√†i vi·∫øt s·ª≠ d·ª•ng
    `WConnectAgent` (m·ªôt c√¥ng c·ª• ƒëi k√®m v·ªõi b·ªô `wconnect`) ƒë·ªÉ m·ªü m·ªôt m√°y ch·ªß giao th·ª©c ADB tr·ª±c ti·∫øp
    tr√™n thi·∫øt b·ªã ƒë∆∞·ª£c c√†i Astoria.
</details>

<details>
    <summary>Nh·ªØng ch·ªânh s·ª≠a ƒë√≥ l√†?</summary>

    Phi√™n b·∫£n ch∆∞a ch·ªânh s·ª≠a c·ªßa `WConnectAgent` kh√¥ng th·ªÉ ch·∫°y tr√™n nhi·ªÅu thi·∫øt b·ªã do l·ªói sau:

    ```
    80070542 Either a required impersonation level was not provided, or the provided impersonation level is invalid.
    ```

    ƒê·ªÉ gi·∫£i quy·∫øt l·ªói n√†y, ch∆∞∆°ng tr√¨nh c·∫ßn ph·∫£i g·ªçi h√†m
    [`CoInitializeSecurity`](https://learn.microsoft.com/en-us/windows/win32/api/combaseapi/nf-combaseapi-coinitializesecurity)
    tr∆∞·ªõc khi t·∫°o ra b·∫•t k·ª≥ ƒë·ªëi t∆∞·ª£ng COM n√†o, t∆∞∆°ng t·ª± nh∆∞ c√°ch nh·ªØng c√¥ng c·ª• li√™n quan ƒë·∫øn WSL
    [ho·∫°t ƒë·ªông](https://github.com/Biswa96/WslReverse/blob/3df27253c3f84d7c5290719581d5fd6959ec6bd5/wslcli/WslClient.c#L27).

    B·∫£n ch·ªânh s·ª≠a th√™m d√≤ng n√†y v√†o ƒë·∫ßu h√†m `Program.Main`:

    ```csharp
    NativeMethods.CoInitializeSecurity(
        IntPtr.Zero, -1, IntPtr.Zero, IntPtr.Zero,
        NativeMethods.RPC_C_AUTHN_LEVEL.DEFAULT,
        NativeMethods.RPC_C_IMP_LEVEL.IMPERSONATE,
        IntPtr.Zero,
        NativeMethods.EOAC_STATIC_CLOAKING,
        IntPtr.Zero
    );
    ```
</details>

## C√†i ƒë·∫∑t Astoria

### Sao ch√©p T·ªáp

ƒê·∫ßu ti√™n, h√£y sao ch√©p t·∫•t c·∫£ nh·ªØng t·ªáp n√™u tr√™n ƒë·∫øn thi·∫øt b·ªã Windows m·ª•c ti√™u.

Nh·ªØng t·ªáp n·∫±m trong `C:\Windows\System32` c·∫ßn ƒë∆∞·ª£c ƒë∆∞a ƒë·∫øn v·ªã tr√≠ gi·ªëng h·ªát n∆°i ch√∫ng ƒë∆∞·ª£c l·∫•y ra.

Kh√≥a Registry v√† c√¥ng c·ª• `WConnectAgent` c√≥ th·ªÉ ƒë∆∞·ª£c ƒë·∫∑t b·∫•t c·ª© ƒë√¢u.

### N·∫°p Kh√≥a Registry

Nh·∫•n v√†o m·ªói t·ªáp trong m·ª•c `Keys` ƒë·ªÉ n·∫°p kh√≥a ƒë√≥.

T·ªáp script `.cmd` c·∫ßn ƒë∆∞·ª£c ch·∫°y v·ªõi quy·ªÅn qu·∫£n tr·ªã.

### X√°c nh·∫≠n

Sau khi sao ch√©p to√†n b·ªô t·ªáp v√† n·∫°p to√†n b·ªô kh√≥a c·∫ßn thi·∫øt, h√£y kh·ªüi ƒë·ªông l·∫°i thi·∫øt b·ªã.

Sau ƒë√≥, m·ªü m·ªôt c·ª≠a s·ªï Command Prompt v·ªõi quy·ªÅn qu·∫£n tr·ªã, v√† ch·∫°y l·ªánh sau:

```cmd
sc query adss
```

N·∫øu m√†n h√¨nh hi·ªán ra ƒëi·ªÅu n√†y, c√°c tr√¨nh ƒëi·ªÅu khi·ªÉn l√µi c·ªßa Astoria ƒë√£ ƒë∆∞·ª£c c√†i ƒë·∫∑t th√†nh c√¥ng v√†
ƒëang ho·∫°t ƒë·ªông.

```
SERVICE_NAME: adss
        TYPE               : 1  KERNEL_DRIVER
        STATE              : 4  RUNNING
                                (STOPPABLE, NOT_PAUSABLE, IGNORES_SHUTDOWN)
        WIN32_EXIT_CODE    : 0  (0x0)
        SERVICE_EXIT_CODE  : 0  (0x0)
        CHECKPOINT         : 0x0
        WAIT_HINT          : 0x0
```

ƒê·ªÉ ƒë·∫£m b·∫£o c√°c d·ªãch v·ª• kh√°c c√πa Astoria ƒëang ho·∫°t ƒë·ªông, ch·∫°y c√¢u l·ªánh:

```cmd
sc query AoWSM
```

Do `AoWSM` ch·ªâ b·∫Øt ƒë·∫ßu khi c·∫ßn thi·∫øt, b·∫°n c√≥ th·ªÉ g·∫∑p l·ªói `1077`:

```
SERVICE_NAME: AoWSM
        TYPE               : 20  WIN32_SHARE_PROCESS
        STATE              : 1  STOPPED
        WIN32_EXIT_CODE    : 1077  (0x435)
        SERVICE_EXIT_CODE  : 0  (0x0)
        CHECKPOINT         : 0x0
        WAIT_HINT          : 0x0
```

Trong tr∆∞·ªùng h·ª£p n√†y, b·∫°n ch·ªâ c·∫ßn kh·ªüi ƒë·ªông d·ªãch v·ª• n√†y m·ªôt c√°ch th·ªß c√¥ng b·∫±ng c√°ch ch·∫°y:

```cmd
sc start AoWSM
```

Ch·∫°y l·∫°i c√¢u l·ªánh `query`. B·∫°n s·∫Ω nh·∫≠n ƒë∆∞·ª£c ph·∫£n h·ªìi n√†y, hi·ªÉn th·ªã r·∫±ng nh·ªØng d·ªãch v·ª• v√† m√¥i tr∆∞·ªùng
Android ·∫£o ƒë√£ kh·ªüi ƒë·ªông tr√™n thi·∫øt b·ªã c·ªßa b·∫°n:

```
SERVICE_NAME: AoWSM
        TYPE               : 20  WIN32_SHARE_PROCESS
        STATE              : 4  RUNNING
                                (STOPPABLE, NOT_PAUSABLE, ACCEPTS_PRESHUTDOWN)
        WIN32_EXIT_CODE    : 0  (0x0)
        SERVICE_EXIT_CODE  : 0  (0x0)
        CHECKPOINT         : 0x0
        WAIT_HINT          : 0x0
```

## ·ª®ng d·ª•ng Android

V·ªõi Astoria ƒë√£ ho·∫°t ƒë·ªông, c√πng nhau c√†i ·ª©ng d·ª•ng Android n√†o!

### Chu·∫©n b·ªã M√¥i tr∆∞·ªùng

#### B·∫≠t _Developer Mode_

V√†o ·ª©ng d·ª•ng Settings c·ªßa Windows v√† k√≠ch ho·∫°t `Developer Mode` tr√™n thi·∫øt b·ªã c·ªßa b·∫°n ƒë·ªÉ c√≥ th·ªÉ c√†i
·ª©ng d·ª•ng ngo√†i c·ª≠a h√†ng Windows Store.

T√¨m ki·∫øm t·ª´ kh√≥a `Developer` tr√™n Start Menu s·∫Ω d·∫´n b·∫°n ƒë·∫øn ƒë√∫ng n∆°i tr√™n h·∫ßu h·∫øt phi√™n b·∫£n Windows.

#### Th√™m _Environment Variable_

Tr√™n thi·∫øt b·ªã m·ª•c ti√™u (thi·∫øt b·ªã c√≥ Astoria), trong m·ªôt c·ª≠a s·ªï Command Prompt v·ªõi quy·ªÅn qu·∫£n tr·ªã,
ch·∫°y:

```cmd
setx /M ARCADIA_APPX_PACKAGE_TYPE tablet
```

<details>
    <summary>L·ªánh n√†y l√†m g√¨?</summary>

    Thi·∫øt ƒë·∫∑t m√¥i tr∆∞·ªùng (_Environment Variable_) n√†y khi·∫øn `WConnectAgent` bi·∫øn t·ªáp APK th√†nh g√≥i
    ·ª©ng d·ª•ng AppX cho `tablet` (m√°y t√≠nh b·∫£ng, nh∆∞ng c≈©ng c√≥ th·ªÉ d√πng cho m√°y t√≠nh th∆∞·ªùng) thay v√¨
    nh·ªØng g√≥i d√†nh ri√™ng cho ƒëi·ªán tho·∫°i.

    Thi·∫øu gi√° tr·ªã n√†y, `WConenctAgent` trong c√°c b∆∞·ªõc sau s·∫Ω th·∫•t b·∫°i, tr·ª´ khi b·∫°n ƒëang l√†m theo
    h∆∞·ªõng d·∫´n n√†y tr√™n m·ªôt thi·∫øt b·ªã Win10M.
</details>

### K·∫øt n·ªëi v·ªõi Android

Tr√™n thi·∫øt b·ªã m·ª•c ti√™u, ch·∫°y `WConnectAgent` tr√™n m·ªôt c·ª≠a s·ªï Command Prompt. D·∫´n c·ª≠a s·ªï n√†y t·ªõi th∆∞
m·ª•c ch·ª©a c√¥ng c·ª• n√†y b·∫±ng l·ªánh `cd` r·ªìi ch·∫°y:

```cmd
WConnectAgent -v -bindAll
```

<details>
    <summary>√ù nghƒ©a c·ªßa nh·ªØng tham s·ªë tr√™n?</summary>

    `-v`: Khi·∫øn `WConnectAgent` "n√≥i nhi·ªÅu" (_verbose_). ƒêi·ªÅu n√†y gi√∫p ch√∫ng ta thu th·∫≠p nh·ªØng th√¥ng
    tin h·ªØu √≠ch n·∫øu qu√° tr√¨nh tri·ªÉn khai ·ª©ng d·ª•ng th·∫•t b·∫°i.

    `-bindAll`: Theo d√µi y√™u c·∫ßu k·∫øt n·ªëi t·ª´ c·∫£ c√°c thi·∫øt b·ªã tr√™n m·∫°ng. Tham s·ªë n√†y quan tr·ªçng, l√Ω do
    s·∫Ω ƒë∆∞·ª£c n√™u trong c√°c ph·∫ßn ti·∫øp theo.
</details>

B·∫°n s·∫Ω nh√¨n th·∫•y c·ª≠a s·ªï sau:

![WConnectAgent running](./wconnectagent.png)

th·ªÉ hi·ªán r·∫±ng m·ªôt m√°y ch·ªß ADB ƒë√£ b·∫Øt ƒë·∫ßu tr√™n c·ªïng **`50505`**.

### C√†i ƒë·∫∑t APK

Tr√™n m·ªôt thi·∫øt b·ªã **kh√°c** k·∫øt n·ªëi v√†o c√πng m·∫°ng LAN/Wi-Fi, ch·∫°y:

```cmd
adb connect [IP_THI·∫æT_B·ªä_M·ª§C_TI√äU]:50505
```

<details>
    <summary>T·∫°i sao c·∫ßn thi·∫øt b·ªã th·ª© hai?</summary>

    N·∫øu s·ª≠ d·ª•ng `adb` tr·ª±c ti·∫øp tr√™n thi·∫øt b·ªã m·ª•c ti√™u, `adb connect` s·∫Ω v∆∞·ª£t qua `WConnectAgent` v√†
    k·∫øt n·ªëi tr·ª±c ti·∫øp v·ªõi `adbd` trong m√¥i tr∆∞·ªùng Android qua c·ªïng `5555` (c·ªïng ADB m·∫∑c ƒë·ªãnh).

    Qu√° tr√¨nh c√†i ƒë·∫∑t APK s·∫Ω th√†nh c√¥ng, nh∆∞ng Windows s·∫Ω kh√¥ng h·ªÅ bi·∫øt r·∫±ng ·ª©ng d·ª•ng ƒë√≥ ƒë√£ ƒë∆∞·ª£c
    th√™m v√†o. S·∫Ω kh√¥ng c√≥ m·ªôt g√≥i UWP t∆∞∆°ng ·ª©ng cho ·ª©ng d·ª•ng n√†y, v√† s·∫Ω kh√¥ng c√≥ c√°ch ƒë·ªÉ ch·∫°y ch∆∞∆°ng
    tr√¨nh n√†y t·ª´ Start Menu.
</details>

B·∫°n s·∫Ω nh·∫≠n ƒë∆∞·ª£c ph·∫£n h·ªìi n√†y, x√°c nh·∫≠n r·∫±ng thi·∫øt b·ªã ƒë√£ ƒë∆∞·ª£c k·∫øt n·ªëi:

```
connected to [IP_THI·∫æT_B·ªä_M·ª§C_TI√äU]:50505
```

Khi ƒë√£ c√≥ k·∫øt n·ªëi, b·∫°n c√≥ th·ªÉ c√†i t·ªáp APK b·∫±ng c√°ch:

```cmd
adb install [ƒê∆Ø·ªúNG_D·∫™N_ƒê·∫æN_T·ªÜP_APK]
```

N·∫øu qu√° tr√¨nh th√†nh c√¥ng, b·∫°n s·∫Ω nh√¨n th·∫•y ·ª©ng d·ª•ng hi·ªÉn th·ªã tr√™n Start Menu. H√£y m·ªü n√≥ nh∆∞ m·ªôt ·ª©ng
d·ª•ng UWP th√¥ng th∆∞·ªùng.

![Deploy Success](./deploysuccess.png)

ƒê√¢y l√† [CPU-Z 1.07](https://www.cpuid.com/downloads/cpu-z/android/cpu-z_1.07.apk) cho Android ch·∫°y
tr√™n Windows 10!

![CPU-Z 1.07](cpuz.png)

## Nh·ªØng B∆∞·ªõc Ti·∫øp theo

Project Astoria ƒë√£ ho·∫°t ƒë·ªông tr·ªü l·∫°i, song n√≥ ch·ªâ kh·∫£ d·ª•ng tr√™n nh·ªØng b·∫£n th·ª≠ nghi·ªám r·∫•t c≈©. Trong
t∆∞∆°ng lai g·∫ßn, [`lxmonika`](https://github.com/trungnt2910/lxmonika/tree/master/lxmonika) s·∫Ω ƒë∆∞·ª£c
n√¢ng c·∫•p ƒë·ªÉ h·ªó tr·ª£ nhi·ªÅu phi√™n b·∫£n kh√°c nhau c·ªßa h√†m `PsRegisterPicoProvider`, gi√∫p ph·∫ßn m·ªÅm n√†y
ƒë√≥ng vai tr√≤ m·ªôt l·ªõp t∆∞∆°ng th√≠ch gi·ªØa l√µi c·ªßa Windows v√† c√°c tr√¨nh ƒëi·ªÅu khi·ªÉn c·ªßa Astoria. ƒêi·ªÅu n√†y
c√≥ th·ªÉ mang Astoria ƒë·∫øn b·∫£n Windows 10 Mobile m·ªõi nh·∫•t, hay th·∫≠m ch√≠ Windows 10 22H2 x86.

Xa h∆°n, ƒë·ªÉ s·ª≠ d·ª•ng ƒë∆∞·ª£c ·ª©ng d·ª•ng Android hi·ªán ƒë·∫°i, v√† ƒë·ªÉ h·ªó tr·ª£ h·ªá ƒëi·ªÅu h√†nh 64-bit, `lxmonika`
h∆∞·ªõng t·ªõi vi·ªác ch·∫°y m·ªôt nh√¢n Linux ƒë·∫ßy ƒë·ªß m√† _kh√¥ng_ s·ª≠ d·ª•ng m√°y ·∫£o nh∆∞ WSL2, gi√∫p cho c√°c gi·∫£i ph√°p
Android tr√™n Linux nh∆∞ Anbox ch·∫°y tr·ª±c ti·∫øp tr√™n Windows. Gi·∫£i ph√°p n√†y s·∫Ω c·∫ßn thay th·∫ø ho√†n to√†n
c√°c th√†nh ph·∫ßn c·ªßa Astoria v·ªõi nh·ªØng b·ªô ph·∫ßn m√£ ngu·ªìn m·ªü v√† d·ªÖ duy tr√¨, nh∆∞ng v·∫´n gi·ªØ ƒë∆∞·ª£c tri·∫øt l√Ω
ban ƒë·∫ßu c·ªßa d·ª± √°n n√†y.

ƒê√£ b·ªã Microsoft b·ªè l·∫°i, t∆∞∆°ng lai c·ªßa Astoria ph·ª• thu·ªôc v√†o
[`lxmonika`](https://github.com/trungnt2910/lxmonika), n√™n h√£y gh√© thƒÉm v√† cho d·ª± √°n n√†y m·ªôt _Star_
nh√©! ‚ú®

## L·ªùi C·∫£m ∆°n

Ph√°t hi·ªán n√†y c√≥ c√¥ng c·ªßa b√°c [@empyreal96](https://github.com/Empyreal96) v√† c√°c anh em tr√™n
[Windows Phone Community Telegram](https://t.me/WindowsPhoneCommunity) gi√∫p m√¨nh thu th·∫≠p t√†i li·ªáu
v√¥ gi√° v·ªÅ c√°c b·∫£n Windows c·ªï.

B√†i vi·∫øt n√†y ƒë√°nh d·∫•u **5** nƒÉm ho·∫°t ƒë·ªông c·ªßa t√†i kho·∫£n GitHub
[@trungnt2910](https://github.com/trungnt2910). M√¨nh xin ch√¢n th√†nh c·∫£m ∆°n
[**93+**](https://github.com/trungnt2910?tab=followers) ng∆∞·ªùi theo d√µi v√† **200+** l∆∞·ª£t _Star_ v√¨
ƒë√£ ƒë·ªìng h√†nh c√πng nh·ªØng b∆∞·ªõc ƒëi ƒë·∫ßu ti√™n c·ªßa m√¨nh tr√™n h√†nh tr√¨nh kh√°m ph√° v√† ƒë√≥ng g√≥p cho c·ªông
d·ªìng m√£ ngu·ªìn m·ªü! üöÄ

C·∫£m ∆°n b·∫°n ƒë√£ gh√© thƒÉm trang n√†y, v√† h√£y ti·∫øp t·ª•c theo d√µi ƒë·ªÉ nh·∫≠n th√™m c√°c c·∫≠p nh·∫≠t t·ª´ _Project
Reality_ - Th·∫ø gi·ªõi c·ªßa m√¨nh! üëÄ
